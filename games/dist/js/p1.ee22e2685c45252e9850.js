(()=>{"use strict";var t={39:(t,e,s)=>{s.r(e)},533:(t,e,s)=>{s.r(e)},912:(t,e,s)=>{s.r(e)},581:(t,e,s)=>{s.r(e)},359:(t,e,s)=>{s.r(e)},972:(t,e,s)=>{s.r(e)},177:(t,e,s)=>{s.r(e)},296:(t,e,s)=>{s.r(e)},298:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),s(581),e.default=class{constructor(t){this.class=t.class}render(){return n(this,void 0,void 0,(function*(){return`\n    <div class="wrapper footer__wrapper ${this.class?this.class:""}">\n      <div class="footer__content">\n        <a class="link contacts__link" href="https://github.com/Andrei-Anaheim">Andrei-Anaheim</a>  \n        <div>2022</div>\n      </div>\n    </div>\n    `}))}after_render(){return n(this,void 0,void 0,(function*(){}))}}},473:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(275)),o=i(s(364)),a=i(s(615));s(359),e.default=class{constructor(t){this.class=t.class}render(){return n(this,void 0,void 0,(function*(){const t=yield r.default.drawComponent(a.default,{class:"login",id:"authorization-form"}),e=yield r.default.drawComponent(o.default,{id:"authorization-button",class:"header__button",text:a.default.isAuthorized?"Log out":"Log in"});return`\n    <div class="wrapper header__wrapper ${this.class?this.class:""}">\n      <a href="#" class="instead-of-logo">A.T.</a>\n      <nav class="header__navigation">\n        <ul class="navigation">\n          <li>\n            <a href="#/nine/start" class="link navigation__link" id="nine">Nine</a>\n          </li>\n          \x3c!--<li>\n            <a href="#/audio_challenge" class="link navigation__link" id="audio_challenge"\n              >Audio challenge</a\n            >\n          </li>\n          <li><a href="#/sprint" class="link navigation__link" id="sprint">Sprint</a></li> --\x3e\n        </ul>\n      </nav>\n      ${e}\n    </div>\n    ${t}\n    `}))}showActiveMenuItem(){const t=window.location.hash.slice(2).toLowerCase();document.querySelectorAll(".navigation__link").forEach((t=>t.classList.remove("active")));const e=document.getElementById(t);e&&e.classList.add("active")}after_render(){return n(this,void 0,void 0,(function*(){this.showActiveMenuItem(),window.addEventListener("hashchange",this.showActiveMenuItem);const t=document.getElementById("authorization-button"),e=document.getElementById("authorization-form"),s=document.querySelectorAll(".login__form input");t.addEventListener("click",(()=>{a.default.isAuthorized?(a.default.isAuthorized=!1,s.forEach((t=>t.value="")),localStorage.clear(),t.innerHTML="Log in"):e.classList.add("active")}))}))}}},931:function(t,e,s){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),s(39);const i=n(s(360));e.default=class{start(){(new i.default).init()}}},615:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(275)),o=i(s(364)),a=i(s(892));s(533);class d{constructor(t){this.text={"Sign in":["Sign in","Don't have an account?","Log in"],"Sign up":["Sign up","Already have an account?","Create an account"]},this.class=t.class,this.id=t.id,this.type="Sign in",this.action=this.loginUser}render(){return n(this,void 0,void 0,(function*(){this.getLocalStorage();const t=yield r.default.drawComponent(o.default,{id:"authorization-form-button",class:"login__button",text:`${this.text[this.type][2]}`});return`\n    <div id="${this.id?this.id:""}" class="${this.class?this.class:""}">\n      <div class="login__body">\n        <form class="login__form" novalidate>\n          <div class="login__close"></div>\n          <h1>${this.type}</h1>\n          <div class="login__content">\n            <input\n              id="email"\n              name="email"\n              placeholder="email"\n              type="email"/>\n            <p class="error login__error-text" id="email-error"></p>\n            <input\n              id="password"\n              name="password"\n              placeholder="password"\n              type="password"/>\n            <p class="error login__error-text" id="password-error"></p>\n              <p class="login__text link">\n                ${this.text[this.type][1]}\n              </p>\n            ${t}\n          </div>\n        </form>\n      </div>\n    </div>\n    `}))}setLocalStorage(){localStorage.setItem("userInfo",JSON.stringify(d.authorizationInfo))}getLocalStorage(){const t=localStorage.getItem("userInfo");t&&(d.authorizationInfo=JSON.parse(t),d.isAuthorized=!0)}showErrorMessage(t,e){const s=document.getElementById(t);s.innerHTML=e;const n=s.previousElementSibling;"INPUT"===(null==n?void 0:n.tagName)&&n.classList.add("error")}changeForm(){"Sign in"===this.type?(this.type="Sign up",this.action=this.createUser):(this.type="Sign in",this.action=this.loginUser)}createUser(t,e){return n(this,void 0,void 0,(function*(){try{const s=yield a.default.createUser({name:"user",email:t,password:e});if(s.error)return void s.error.errors.forEach((t=>{const e="e"===t.message[1]?"email-error":"password-error";this.showErrorMessage(e,t.message)}));yield this.loginUser(t,e)}catch(t){"SyntaxError: Unexpected token u in JSON at position 0"==t&&this.showErrorMessage("email-error","account with this email already exists")}}))}loginUser(t,e){return n(this,void 0,void 0,(function*(){try{const s=yield a.default.loginUser({email:t,password:e});d.isAuthorized=!0,d.authorizationInfo=s,this.setLocalStorage()}catch(t){"SyntaxError: Unexpected token F in JSON at position 0"==t&&this.showErrorMessage("password-error","Wrong password"),"SyntaxError: Unexpected token C in JSON at position 0"==t&&this.showErrorMessage("email-error","account with this email doesn't exist.")}}))}after_render(){return n(this,void 0,void 0,(function*(){const t=document.getElementById(this.id),e=t.querySelector("form"),s=e.querySelector(".login__text"),i=e.querySelector("H1"),r=t.querySelectorAll("input"),o=document.getElementById("authorization-form-button"),a=()=>{t.classList.remove("active")};t.addEventListener("click",(t=>{const e=t.target;e.closest(".login__form")&&!e.classList.contains("login__close")||a()})),o.addEventListener("click",(t=>n(this,void 0,void 0,(function*(){t.preventDefault();const s=e.elements.email.value,n=e.elements.password.value;yield this.action(s,n),d.isAuthorized&&(document.getElementById("authorization-button").innerHTML="Log out",a())})))),s.addEventListener("click",(()=>{this.changeForm(),r[1].focus(),r[0].focus(),i.innerHTML=this.type,s.innerHTML=this.text[this.type][1],o.innerHTML=this.text[this.type][2]})),r.forEach((t=>{t.addEventListener("focus",(()=>{t.classList.remove("error"),t.nextElementSibling&&(t.nextElementSibling.innerHTML="")}))}))}))}}d.isAuthorized=!1,e.default=d},364:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),s(912),e.default=class{constructor(t){this.class=t.class,this.id=t.id,this.text=t.text}render(){return n(this,void 0,void 0,(function*(){return`\n      <button id="${this.id?this.id:""}" class="button \n      ${this.class?this.class:""}">${this.text}</button>\n    `}))}after_render(){return n(this,void 0,void 0,(function*(){}))}}},275:function(t,e){var s=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});class n{static drawComponent(t,e={}){return s(this,void 0,void 0,(function*(){const s=new t(e);return this.renderComponentStack.push(s),yield s.render()}))}static drawPage(t){return s(this,void 0,void 0,(function*(){for(document.getElementById("page_container").innerHTML=yield t.render();this.renderComponentStack.length;){const t=this.renderComponentStack.pop();t&&(yield t.after_render())}yield t.after_render()}))}}n.renderComponentStack=[],e.default=n},730:function(t,e){var s=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{render(){return s(this,void 0,void 0,(function*(){return'\n        <section class="section">\n            <h1> 404 Error </h1>\n        </section>\n    '}))}after_render(){return s(this,void 0,void 0,(function*(){}))}}},103:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),s(972),e.default=class{render(){return n(this,void 0,void 0,(function*(){return'\n  <section class="promo">\n    <div class="wrapper promo__wrapper">\n      <h2 class="promo__title">Андрей учит TypeScript</h2>\n    </div>\n  </section>\n    '}))}after_render(){return n(this,void 0,void 0,(function*(){}))}}},843:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),s(177),e.default=class{constructor(){this.players=Number(localStorage.getItem("nine-players")),this.cardsCount=Number(localStorage.getItem("nine-gameType")),this.allCards=52===this.cardsCount?Array.from(Array(this.cardsCount).keys()).sort((()=>Math.random()-.5)):Array.from(Array(9).keys()).map(((t,e)=>4+e)).concat(Array.from(Array(9).keys()).map(((t,e)=>17+e))).concat(Array.from(Array(9).keys()).map(((t,e)=>30+e))).concat(Array.from(Array(9).keys()).map(((t,e)=>43+e))).sort((()=>Math.random()-.5)),this.bot1Cards=this.players>1?this.allCards.splice(0,Math.floor(this.cardsCount/this.players)+(this.players>=5?1:0)):[],this.bot2Cards=this.players>2?this.allCards.splice(0,Math.floor(this.cardsCount/this.players)+(this.players>=6?1:0)):[],this.bot3Cards=this.players>3?this.allCards.splice(0,Math.floor(this.cardsCount/this.players)+(this.players>=6?1:0)):[],this.bot4Cards=this.players>4?this.allCards.splice(0,Math.floor(this.cardsCount/this.players)):[],this.bot5Cards=this.players>5?this.allCards.splice(0,Math.floor(this.cardsCount/this.players)):[],this.playerCards=this.allCards.sort(((t,e)=>t-e)),this.cardsOnBoard1=[],this.cardsOnBoard2=[],this.cardsOnBoard3=[],this.cardsOnBoard4=[],this.currentPlayer=-1!==this.bot1Cards.indexOf(33)?1:-1!==this.bot2Cards.indexOf(33)?2:-1!==this.bot3Cards.indexOf(33)?3:-1!==this.bot4Cards.indexOf(33)?4:-1!==this.bot5Cards.indexOf(33)?5:0,this.mainWidth=document.body.clientWidth-40,this.cardWidth=.7*this.mainWidth/14,this.cardHeight=this.cardWidth/500*726,this.currentPlayerPossibleMoves=[]}render(){return n(this,void 0,void 0,(function*(){const t="start"===window.location.hash.split("/")[2]?0:"field"===window.location.hash.split("/")[2]?1:2,e=`\n    <div class="enemies">\n      <div class="enemy enemy-1" style="display:${this.players<2?"none":"flex"}">\n        <span>Bot 1</span>\n        <div class="bot-cards">${this.bot1Cards.length}</div>\n      </div>\n      <div class="enemy enemy-2" style="display:${this.players<3?"none":"flex"}">\n        <span>Bot 2</span>\n        <div class="bot-cards">${this.bot2Cards.length}</div>\n      </div>\n      <div class="enemy enemy-3" style="display:${this.players<4?"none":"flex"}">\n        <span>Bot 3</span>\n        <div class="bot-cards">${this.bot3Cards.length}</div>\n      </div>\n      <div class="enemy enemy-4" style="display:${this.players<5?"none":"flex"}">\n        <span>Bot 4</span>\n        <div class="bot-cards">${this.bot4Cards.length}</div>\n      </div>\n      <div class="enemy enemy-5" style="display:${this.players<6?"none":"flex"}">\n        <span>Bot 5</span>\n        <div class="bot-cards">${this.bot5Cards.length}</div>\n      </div>\n    </div>\n    `;let s="",n="",i="",r="",o="";for(let t=0;t<this.playerCards.length;t+=1)o+=`<div class="nine-card-my photo${this.playerCards[t]}" style="width: ${.8*this.mainWidth/18}px" id="myCard${this.playerCards[t]}"></div>`;for(let t=0;t<this.cardsCount/4;t+=1)s+=`<div class="nine-card" style="width: ${this.cardWidth}px; height: ${this.cardHeight}px" id="card${52===this.cardsCount?t:t+4}"></div>`,n+=`<div class="nine-card" style="width: ${this.cardWidth}px; height: ${this.cardHeight}px" id="card${52===this.cardsCount?t+this.cardsCount/4:t+this.cardsCount/4+8}"></div>`,i+=`<div class="nine-card" style="width: ${this.cardWidth}px; height: ${this.cardHeight}px" id="card${52===this.cardsCount?t+2*this.cardsCount/4:t+2*this.cardsCount/4+12}"></div>`,r+=`<div class="nine-card" style="width: ${this.cardWidth}px; height: ${this.cardHeight}px" id="card${52===this.cardsCount?t+3*this.cardsCount/4:t+3*this.cardsCount/4+16}"></div>`;return`\n    <div class="nine-navigation" style="display:${1===t?"none":"flex"}">\n      <div class="wrapper nine-navigation__wrapper">\n        <div class="navigation-buttons">\n          <a href="#/nine/start" class="${2!==t?"button":"button_grey"} textbook__button">Game Start</a>\n          <a href="#/nine/info" class="${2===t?"button":"button_grey"} textbook__button">Game rules</a>\n        </div>\n      </div>\n    </div>\n    <section class="word-cards">\n      ${2===t?'\n    <section class="nine-rules" style="background:red; color:black">\n      <a href="#/nine/start" class="level-info-link">\n        <div class="level-description">\n          <p>Карточная игра "Девятка"</p>\n          <p>Число игроков: от 2 до до 6</p>\n          <p>Цель игры: избавиться от карт на руках. Проигрывает тот, кто последний останется с картами</p>\n          <p>Игру начинает игрок, имеющий 9 бубен. \n          Следующий игрок по часовой стрелке может положить 8 или 10 бубен, либо одну из трёх оставшихся 9. \n          Если вышеназванных карт у него нет, то он пропускает ход, а при игре на деньги обязан поставить в банк определенную сумму, \n          обычно равную начальной ставке. \n          Также и в дальнейшем: при невозможности положить карту ход пропускается. \n          Но игрок обязан выложить карту на кон, если он может сделать ход.</p>\n        </div>\n      </a>\n    </section>\n    ':1===t?`\n      ${e}\n      <div class="battlefield">\n        <div class="battlefield-row">${s}</div>\n        <div class="battlefield-row">${n}</div>\n        <div class="battlefield-row">${i}</div>\n        <div class="battlefield-row">${r}</div>\n      </div>\n      <div class="myCards" style="pointer-events:none">${o}</div>\n      <div class="nine-result" style="display:none">\n        <p class="nine-winner">Winner:</p>\n        <a href="#/nine/start" class="button">New game</a>\n      </div>\n    `:'\n    <div class="nine__wrapper">\n      <div class="nine-settings">\n        <div class="nine-setting-item">\n          <p class="form_title">Количество игроков</p>\n          <select class="nine-setting-select" id="nine-level">\n            <option value="3" selected>3</option>\n            <option value="4">4</option>\n            <option value="5">5</option>\n            <option value="6">6</option>\n          </select>\n        </div>\n        <div class="nine-setting-item">\n          <p class="form_title">Выберите формат</p>\n          <select class="nine-setting-select" id="nine-type">\n            <option value="36" selected>36 карт</option>\n            <option value="52">52 карты</option>\n          </select>\n        </div>\n        \x3c!--<div class="nine-setting-item">\n          <p class="form_title" id="currentBet">Текущая ставка: 0</p>\n          <input id="range" type="range" name="range" min="0" max="100" step="5" value="0" />\n        </div>--\x3e\n      </div>\n      <a href="#/nine/field" class="button nine-start">Start</a>\n    </div>\n    '}\n    </section>\n      `}))}startNine(){0===this.currentPlayer?(document.getElementById("myCard33").remove(),this.playerCards.splice(this.playerCards.indexOf(33),1),this.currentPlayer=this.currentPlayer==this.players-1?0:1):1===this.currentPlayer?(this.bot1Cards.splice(this.bot1Cards.indexOf(33),1),document.querySelectorAll(".bot-cards")[0].innerText=`${this.bot1Cards.length}`,this.currentPlayer=this.currentPlayer==this.players-1?0:2):2===this.currentPlayer?(this.bot2Cards.splice(this.bot2Cards.indexOf(33),1),document.querySelectorAll(".bot-cards")[1].innerText=`${this.bot2Cards.length}`,this.currentPlayer=this.currentPlayer==this.players-1?0:3):3===this.currentPlayer?(this.bot3Cards.splice(this.bot3Cards.indexOf(33),1),document.querySelectorAll(".bot-cards")[2].innerText=`${this.bot3Cards.length}`,this.currentPlayer=this.currentPlayer==this.players-1?0:4):4===this.currentPlayer?(this.bot4Cards.splice(this.bot4Cards.indexOf(33),1),document.querySelectorAll(".bot-cards")[3].innerText=`${this.bot4Cards.length}`,this.currentPlayer=this.currentPlayer==this.players-1?0:5):(this.bot5Cards.splice(this.bot5Cards.indexOf(33),1),document.querySelectorAll(".bot-cards")[4].innerText=`${this.bot5Cards.length}`,this.currentPlayer=0),this.cardsOnBoard3.push(33),document.getElementById("card33").setAttribute("class","photo33"),setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}moveNine(t){this.currentPlayerPossibleMoves=[];const e=0===this.cardsOnBoard1.length?7:Math.min(...this.cardsOnBoard1),s=0===this.cardsOnBoard1.length?7:Math.max(...this.cardsOnBoard1),n=0===this.cardsOnBoard2.length?20:Math.min(...this.cardsOnBoard2),i=0===this.cardsOnBoard2.length?20:Math.max(...this.cardsOnBoard2),r=0===this.cardsOnBoard3.length?33:Math.min(...this.cardsOnBoard3),o=0===this.cardsOnBoard3.length?33:Math.max(...this.cardsOnBoard3),a=0===this.cardsOnBoard4.length?46:Math.min(...this.cardsOnBoard4),d=0===this.cardsOnBoard4.length?46:Math.max(...this.cardsOnBoard4);if(0===this.cardsOnBoard1.length?this.currentPlayerPossibleMoves.push(7):(e>0&&this.currentPlayerPossibleMoves.push(e-1),s<12&&this.currentPlayerPossibleMoves.push(s+1)),0===this.cardsOnBoard2.length?this.currentPlayerPossibleMoves.push(20):(n>13&&this.currentPlayerPossibleMoves.push(n-1),i<25&&this.currentPlayerPossibleMoves.push(i+1)),0===this.cardsOnBoard3.length?this.currentPlayerPossibleMoves.push(33):(r>26&&this.currentPlayerPossibleMoves.push(r-1),o<38&&this.currentPlayerPossibleMoves.push(o+1)),0===this.cardsOnBoard4.length?this.currentPlayerPossibleMoves.push(46):(a>39&&this.currentPlayerPossibleMoves.push(a-1),d<51&&this.currentPlayerPossibleMoves.push(d+1)),0===t)if([...this.currentPlayerPossibleMoves].filter((t=>this.playerCards.includes(t))).length>0){document.querySelector(".myCards").setAttribute("style",'pointer-events:""');for(let t=0;t<this.currentPlayerPossibleMoves.length;t+=1)-1!==this.playerCards.indexOf(this.currentPlayerPossibleMoves[t])&&(document.getElementById(`myCard${this.currentPlayerPossibleMoves[t]}`).style.border="4px solid green",document.getElementById(`myCard${this.currentPlayerPossibleMoves[t]}`).addEventListener("click",(t=>{this.playerMove(t)})))}else if(this.currentPlayer=1,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500);else if(1===t){const t=[...this.currentPlayerPossibleMoves].filter((t=>this.bot1Cards.includes(t)));if(t.length>0&&(t.sort((()=>Math.random()-.5)),this.bot1Cards.splice(this.bot1Cards.indexOf(t[0]),1),document.querySelectorAll(".bot-cards")[0].innerText=`${this.bot1Cards.length}`,document.getElementById(`card${t[0]}`).setAttribute("class",`photo${t[0]}`),t[0]>=39?this.cardsOnBoard4.push(t[0]):t[0]>=26?this.cardsOnBoard3.push(t[0]):t[0]>=13?this.cardsOnBoard2.push(t[0]):t[0]>=0&&this.cardsOnBoard1.push(t[0])),this.currentPlayer=this.currentPlayer==this.players-1?0:2,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}else if(2===t){const t=[...this.currentPlayerPossibleMoves].filter((t=>this.bot2Cards.includes(t)));if(t.length>0&&(t.sort((()=>Math.random()-.5)),this.bot2Cards.splice(this.bot2Cards.indexOf(t[0]),1),document.querySelectorAll(".bot-cards")[1].innerText=`${this.bot2Cards.length}`,document.getElementById(`card${t[0]}`).setAttribute("class",`photo${t[0]}`),t[0]>=39?this.cardsOnBoard4.push(t[0]):t[0]>=26?this.cardsOnBoard3.push(t[0]):t[0]>=13?this.cardsOnBoard2.push(t[0]):t[0]>=0&&this.cardsOnBoard1.push(t[0])),this.currentPlayer=this.currentPlayer==this.players-1?0:3,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}else if(3===t){const t=[...this.currentPlayerPossibleMoves].filter((t=>this.bot3Cards.includes(t)));if(t.length>0&&(t.sort((()=>Math.random()-.5)),this.bot3Cards.splice(this.bot3Cards.indexOf(t[0]),1),document.querySelectorAll(".bot-cards")[2].innerText=`${this.bot3Cards.length}`,document.getElementById(`card${t[0]}`).setAttribute("class",`photo${t[0]}`),t[0]>=39?this.cardsOnBoard4.push(t[0]):t[0]>=26?this.cardsOnBoard3.push(t[0]):t[0]>=13?this.cardsOnBoard2.push(t[0]):t[0]>=0&&this.cardsOnBoard1.push(t[0])),this.currentPlayer=this.currentPlayer==this.players-1?0:4,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}else if(4===t){const t=[...this.currentPlayerPossibleMoves].filter((t=>this.bot4Cards.includes(t)));if(t.length>0&&(t.sort((()=>Math.random()-.5)),this.bot4Cards.splice(this.bot4Cards.indexOf(t[0]),1),document.querySelectorAll(".bot-cards")[3].innerText=`${this.bot4Cards.length}`,document.getElementById(`card${t[0]}`).setAttribute("class",`photo${t[0]}`),t[0]>=39?this.cardsOnBoard4.push(t[0]):t[0]>=26?this.cardsOnBoard3.push(t[0]):t[0]>=13?this.cardsOnBoard2.push(t[0]):t[0]>=0&&this.cardsOnBoard1.push(t[0])),this.currentPlayer=this.currentPlayer==this.players-1?0:5,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}else{const t=[...this.currentPlayerPossibleMoves].filter((t=>this.bot5Cards.includes(t)));if(t.length>0&&(t.sort((()=>Math.random()-.5)),this.bot5Cards.splice(this.bot5Cards.indexOf(t[0]),1),document.querySelectorAll(".bot-cards")[4].innerText=`${this.bot5Cards.length}`,document.getElementById(`card${t[0]}`).setAttribute("class",`photo${t[0]}`),t[0]>=39?this.cardsOnBoard4.push(t[0]):t[0]>=26?this.cardsOnBoard3.push(t[0]):t[0]>=13?this.cardsOnBoard2.push(t[0]):t[0]>=0&&this.cardsOnBoard1.push(t[0])),this.currentPlayer=0,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}}playerMove(t){for(let t=0;t<this.currentPlayerPossibleMoves.length;t+=1)-1!==this.playerCards.indexOf(this.currentPlayerPossibleMoves[t])&&document.getElementById(`myCard${this.currentPlayerPossibleMoves[t]}`).replaceWith(document.getElementById(`myCard${this.currentPlayerPossibleMoves[t]}`).cloneNode(!0));const e=Number(t.target.id.split("myCard")[1]);if(document.getElementById(`myCard${e}`)&&document.getElementById(`myCard${e}`).remove(),this.playerCards.splice(this.playerCards.indexOf(e),1),this.currentPlayer=this.currentPlayer==this.players-1?0:1,document.getElementById(`card${e}`).setAttribute("class",`photo${e}`),document.querySelector(".myCards").setAttribute("style","pointer-events: none"),document.querySelectorAll(".nine-card-my").forEach((t=>t.style.border="1px solid pink")),e>=39?this.cardsOnBoard4.push(e):e>=26?this.cardsOnBoard3.push(e):e>=13?this.cardsOnBoard2.push(e):e>=0&&this.cardsOnBoard1.push(e),this.currentPlayer=1,0===this.bot1Cards.length||0===this.bot2Cards.length||0===this.playerCards.length||this.players>3&&0===this.bot3Cards.length||this.players>4&&0===this.bot4Cards.length||this.players>5&&0===this.bot5Cards.length){const t=0===this.playerCards.length?"You! Congratulations!":0===this.bot1Cards.length?"Bot1":0===this.bot2Cards.length?"Bot2":0===this.bot3Cards.length?"Bot3":0===this.bot4Cards.length?"Bot4":"Bot5";document.querySelector(".nine-result").setAttribute("style","display: block"),document.querySelector(".nine-winner").innerText=`Winner: ${t}`}else setTimeout((()=>{this.moveNine(this.currentPlayer)}),500)}saveNineSettings(){const t=document.getElementById("nine-level").value,e=document.getElementById("nine-type").value;localStorage.setItem("nine-players",t),localStorage.setItem("nine-gameType",e)}updateBet(){document.getElementById("currentBet").innerText=`Текущая ставка: ${document.getElementById("range").value}`}after_render(){return n(this,void 0,void 0,(function*(){window.addEventListener("hashchange",(()=>{location.reload(),window.scrollTo({top:0,behavior:"smooth"})})),"start"===window.location.hash.split("/")[2]&&document.querySelector(".nine-start").addEventListener("click",this.saveNineSettings),"field"===window.location.hash.split("/")[2]&&setTimeout(this.startNine.bind(this),500)}))}}},360:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(s(409)),o=i(s(275)),a=i(s(730)),d=i(s(103)),l=i(s(843)),c=i(s(473)),h=i(s(298)),u={"/":new d.default,"/nine/:id":new l.default},p=new a.default;e.default=class{router(){return n(this,void 0,void 0,(function*(){const t=r.default.parseRequestURL(),e=(t.resource?`/${t.resource}`:"/")+(t.id?"/:id":"")+(t.verb?"/:verb":""),s=u[e]?u[e]:p;o.default.drawPage(s)}))}renderHeaderAndFooter(){return n(this,void 0,void 0,(function*(){const t=yield o.default.drawComponent(c.default);document.getElementById("header_container").innerHTML=t;const e=yield o.default.drawComponent(h.default);document.getElementById("footer_container").innerHTML=e}))}init(){window.addEventListener("hashchange",this.router),window.addEventListener("load",this.renderHeaderAndFooter),window.addEventListener("load",this.router)}}},323:function(t,e,s){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(s(931));s(296),(new i.default).start()},892:function(t,e,s){var n=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(i,r){function o(t){try{d(n.next(t))}catch(t){r(t)}}function a(t){try{d(n.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}d((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Request=e.Difficulty=void 0;const r=i(s(409)).default.getFullURL("");var o;(o=e.Difficulty||(e.Difficulty={}))[o.CASUAL=0]="CASUAL",o[o.NORMAL1=1]="NORMAL1",o[o.NORMAL2=2]="NORMAL2",o[o.HARD=3]="HARD";class a{static getWordsList(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(`${r}/words?group=${t.group||0}&page=${t.page||0}`,{method:"GET",headers:{Accept:"application/json"}});return yield e.json()}))}static getWordById(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(`${r}/words/${t}`,{method:"GET",headers:{Accept:"application/json"}});return yield e.json()}))}static createUser(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(`${r}/users`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});return yield e.json()}))}static getUserInfo(t,e){return n(this,void 0,void 0,(function*(){const s=yield fetch(`${r}/users/${t}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield s.json()}))}static editUserInfo(t,e,s,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}`,{method:"PUT",headers:{Accept:"application/json",Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({email:`${s}`,password:`${i}`})});return yield n.json()}))}static deleteUser(t,e){return n(this,void 0,void 0,(function*(){yield fetch(`${r}/users/${t}`,{headers:{Authorization:`Bearer ${e}`},method:"DELETE"})}))}static getNewToken(t,e){return n(this,void 0,void 0,(function*(){const s=yield fetch(`${r}/users/${t}/tokens`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield s.json()}))}static getUserWordsList(t,e){return n(this,void 0,void 0,(function*(){const s=yield fetch(`${r}/users/${t}/words`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield s.json()}))}static SetWordInUsersList(t,e,s,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}/words/${s}`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({difficulty:`${i}`})});return yield n.json()}))}static getWordFromUserWordsList(t,e,s){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}/words/${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield n.json()}))}static editWordInUserWordsList(t,e,s,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}/words/${s}`,{method:"PUT",headers:{Accept:"application/json",Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({difficulty:`${i}`})});return yield n.json()}))}static deleteWordFromUsersList(t,e,s){return n(this,void 0,void 0,(function*(){yield fetch(`${r}/users/${t}/words/${s}`,{headers:{Authorization:`Bearer ${e}`},method:"DELETE"})}))}static getAggregatedWordsList(t){return n(this,void 0,void 0,(function*(){const e=(t.group?`&group=${t.group}`:"")+(t.page?`&page=${t.page}`:"")+(t.wordsPerPage?`&wordsPerPage=${t.wordsPerPage}`:"")+(t.filter?`&filter=${t.filter}`:""),s=e?`?${e.slice(1)}`:"",n=yield fetch(`${r}/users/${t.id}/aggregatedWords${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${t.token}`}});return yield n.json()}))}static getAggregatedWord(t,e,s){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}/aggregatedWords/${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield n.json()}))}static editStatistics(t,e,s,i,o){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/users/${t}/statistics`,{method:"PUT",headers:{Accept:"application/json",Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({learnedWords:`${s}`,optional:{playedGames:`${i}`,successRate:`${o}`}})});return yield n.json()}))}static getStatistics(t,e){return n(this,void 0,void 0,(function*(){const s=yield fetch(`${r}/users/${t}/statistics`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${e}`}});return yield s.json()}))}static loginUser(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(`${r}/signin`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});return yield e.json()}))}}e.Request=a,e.default=a},409:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s={parseRequestURL:()=>{const t=(window.location.hash.slice(1).toLowerCase()||"/").split("/");return{resource:t[1],id:t[2],verb:t[3]}},getFullURL:t=>"http://localhost:3001"+t};e.default=s}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,s),r.exports}s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(323)})();